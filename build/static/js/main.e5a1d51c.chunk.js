(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{2:function(t,e,n){"use strict";var a=n(1),c=n.n(a).a.createContext({items:[],totalAmount:0,addItem:function(t){},removeItem:function(t){}});e.a=c},20:function(t,e,n){},22:function(t,e,n){"use strict";n.r(e);var a=n(11),c=n.n(a),i=(n(20),n(3)),r=n(1),o=n.n(r),u=n.p+"static/media/meals.2971f633.jpg",s=n(8),m=n.n(s),l=n(0),d=function(){return Object(l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(l.jsx)("path",{d:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"})})},j=n(6),b=n.n(j),f=n(2);function O(t){var e=Object(r.useContext)(f.a),n=e.items.reduce((function(t,e){return t+e.amount}),0),a=Object(r.useState)(!1),c=Object(i.a)(a,2),o=c[0],u=c[1],s=e.items;Object(r.useEffect)((function(){if(0!==s.length){u(!0);var t=setTimeout((function(){u(!1)}),300);return function(){clearTimeout(t)}}}),[s]);var m="".concat(b.a.button," ").concat(o?b.a.bump:"");return Object(l.jsxs)("button",{className:m,onClick:t.onClick,children:[Object(l.jsx)("span",{className:b.a.icon,children:Object(l.jsx)(d,{})}),Object(l.jsx)("span",{children:"Your Cart"}),Object(l.jsxs)("span",{className:b.a.badge,children:[" ",n," "]})]})}function h(t){return Object(l.jsxs)(r.Fragment,{children:[Object(l.jsxs)("header",{className:m.a.header,children:[Object(l.jsx)("h1",{children:"React Meals"}),Object(l.jsx)(O,{onClick:t.onShowCart})]}),Object(l.jsx)("div",{children:Object(l.jsx)("img",{className:m.a.myStyledImage,src:u,alt:"meals images"})})]})}var x=n(9),p=n(4),v={items:[],totalAmount:0},g=function(t,e){if("ADD"===e.type){var n,a,c=t.items.findIndex((function(t){return t.id===e.item.id})),i=t.items[c];return i?(n=Object(p.a)(Object(p.a)({},i),{},{amount:i.amount+e.item.amount}),(a=Object(x.a)(t.items))[c]=n):(n=Object(p.a)({},e.item),a=t.items.concat(n)),{items:a,totalAmount:t.totalAmount+e.item.amount*e.item.price}}if("REMOVE"===e.type){var r,o=t.items.findIndex((function(t){return t.id===e.id})),u=t.items[o],s=t.totalAmount-u.price;if(1===u.amount)r=t.items.filter((function(t){return t.id!==e.id}));else{var m=Object(p.a)(Object(p.a)({},u),{},{amount:u.amount-1});(r=Object(x.a)(t.items))[o]=m}return{items:r,totalAmount:s}}return v},_=function(t){var e=Object(r.useReducer)(g,v),n=Object(i.a)(e,2),a=n[0],c=n[1],o={items:a.items,totalAmount:a.totalAmount,addItem:function(t){c({type:"ADD",item:t})},removeItem:function(t){c({type:"REMOVE",id:t})}};return Object(l.jsx)(f.a.Provider,{value:o,children:t.children})},C=o.a.lazy((function(){return n.e(4).then(n.bind(null,33))})),y=o.a.lazy((function(){return n.e(3).then(n.bind(null,32))}));var A=function(){var t=Object(r.useState)(!1),e=Object(i.a)(t,2),n=e[0],a=e[1];return Object(l.jsx)(r.Suspense,{fallback:Object(l.jsx)("div",{children:" Loading ... "}),children:Object(l.jsxs)(_,{value:f.a,children:[n&&Object(l.jsx)(C,{onClose:function(){a(!1)}}),Object(l.jsx)(h,{onShowCart:function(){a(!0)}}),Object(l.jsx)("main",{children:Object(l.jsx)(y,{})})]})})};c.a.createRoot(document.getElementById("root")).render(Object(l.jsx)(A,{}))},6:function(t,e,n){t.exports={button:"HeaderCartButton_button__12cBF",icon:"HeaderCartButton_icon__3jype",badge:"HeaderCartButton_badge__3BX9d",bump:"HeaderCartButton_bump__38QaB"}},8:function(t,e,n){t.exports={header:"Header_header__2IXWg","main-image":"Header_main-image__kevDx",myStyledImage:"Header_myStyledImage__1L4Qf"}}},[[22,1,2]]]);
//# sourceMappingURL=main.e5a1d51c.chunk.js.map